<app-side-banner>

<div class="md:w-3/4 bg-white py-10">
  <div class="flex justify-end me-10">
    <a [routerLink]="['/register']"
      class="bg-black rounded-md shadow-lg text-white px-5 py-1.5">Register</a>
  </div>

  <div class="flex justify-center items-center mt-16">
    <form
      class="bg-white w-6/12"
      [formGroup]="otpVerificationForm"
      (ngSubmit)="onSubmit()"
    >
      <h1 class="text-gray-800 text-center font-bold text-3xl my-6">
        OTP Verification
      </h1>
      <p class="text-gray-600 text-center mb-4">Code sent to {{ email }}</p>
      <div class="">
        <div class="flex items-center border-2 py-2 px-3 rounded-2xl">
          <i class="fa-solid fa-envelope text-gray-400"></i>
          <input
            class="pl-2 outline-none border-none"
            type="text"
            formControlName="otp"
            placeholder="otp"
          />
        </div>

        <div class="flex justify-between">
          <p
            class="text-red-600 text-[.75rem] italic mt-1"

          >
            <span *ngIf="isFieldInvalid('otp')"> Please enter a valid otp!</span>
          </p>
          <div
            class="flex items-center flex-col justify-between mb-1"
            *ngIf="isTimerEnabled"
          >
            <div class="flex items-center space-x-2">
              <button
                class="px-3 py-2 text-sm font-medium text-center rounded text-gray-500 hover:text-blue-500"
              >
                OTP expired in ({{ countdown }})
              </button>
            </div>
          </div>
        </div>
        <div class="flex items-center justify-between">
          <button [disabled]="!isEnabled"
            type="submit"
            class="bg-blue-600 hover:bg-blue-800 text-white font-bold py-1.5 px-4 rounded focus:outline-none focus:shadow-outline"
          >
            <span>Verify</span>
            <app-loader *ngIf="isLoading"></app-loader>
          </button>
          <a
            (click)="onResendOTP()"
            *ngIf="resendOtpCount > 0"
            class="inline-block cursor-pointer align-baseline font-bold text-sm text-blue-500 hover:text-blue-800"
          >
            Resend OTP ({{ resendOtpCount }})
          </a>
          <p
            *ngIf="resendOtpCount === 0"
            class="inline-block align-baseline font-bold text-sm text-teal-500"
          >
            Request Again in 15 minutes
          </p>
        </div>
      </div>

    </form>


  </div>
</div>


</app-side-banner>
